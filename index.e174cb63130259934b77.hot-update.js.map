{"version":3,"file":"index.e174cb63130259934b77.hot-update.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAKA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAGA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAJA;AAMA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;;;;;;;;;;;;;;;ACvCA;;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AADA;AAKA;AAXA;;AAcA;;;;;;;;ACtBA","sources":["webpack://NeedForDrive-Second-Iteration/./src/pages/Edit/components/CarEdit/hooks.ts","webpack://NeedForDrive-Second-Iteration/./src/utils/services/Table/service.ts","webpack://NeedForDrive-Second-Iteration/webpack/runtime/getFullHash"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { createCar } from '../../../../store/Cars/thunks';\nimport { Dispatcher } from '../../../../types/store';\nimport { CarResponse, CarsState } from '../../../../types/Cars';\nimport { CarForm } from '../../../../types/Edit';\n\nexport const useSaveCar = (form: CarForm | null, isEdit: boolean): [CarResponse, boolean, number] => {\n  const dispatch = useDispatch<Dispatcher>();\n  const { postCar, postLoading, postError } = useSelector<{\n    cars: CarsState;\n  }, CarsState>((state) => state.cars);\n  const [body, setBody] = useState<object | null>(null);\n\n  useEffect(() => {\n    if (form) {\n      setBody({\n        ...form,\n        thumbnail: form.thumbnail[0],\n        priceMin: 1000,\n        priceMax: 7500,\n      });\n    }\n  }, [form]);\n\n  useEffect(() => {\n    console.log(postCar);\n  }, [postCar]);\n\n  useEffect(() => {\n    if (body !== null) {\n      if (isEdit) {\n        console.log('hm');\n      } else {\n        dispatch(createCar(body));\n      }\n    }\n  }, [body]);\n\n  return [postCar, postLoading, postError];\n};\n","import { AxiosResponse } from 'axios';\nimport instance from '../../../http';\n\nexport interface TableInterface {\n  getEntities: (name: string, config: object) => Promise<AxiosResponse>,\n  postEntity: (name: string, body: object) => Promise<AxiosResponse>,\n}\n\nconst tableService = (): TableInterface => ({\n  getEntities: async (name, config): Promise<AxiosResponse> => {\n    return instance.get(`/db/${name}`, config);\n  },\n  postEntity: async (name, body): Promise<AxiosResponse> => {\n    console.log(body);\n    return instance.post(`/db/${name}`, new FormData(body), {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    });\n  },\n});\n\nexport default tableService;\n","__webpack_require__.h = () => (\"11cd1f33ffdf139223b3\")"],"names":[],"sourceRoot":""}