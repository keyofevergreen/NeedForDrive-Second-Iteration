{"version":3,"file":"index.c9039a0a474616d3b6fb.hot-update.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AAGA;;;;AAQA;AAAA;AAAA;AAAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAXA;AAaA;AAEA;AACA;AAFA;AAKA;AACA;AAFA;AAKA;AACA;AAFA;AAMA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AANA;AADA;AAUA;AAAA;AACA;AAAA;AACA;AACA;AAAA;AAIA;AAAA;AALA;AAUA;AAGA;AACA;AAJA;AAOA;AAAA;AAEA;AAAA;AAFA;AAlBA;AADA;AA2BA;AAAA;AACA;AAAA;AAGA;AAEA;AACA;AACA;AACA;AANA;AAFA;AADA;AAcA;AAAA;AACA;AAAA;AAAA;AADA;AAKA;AAAA;AAAA;AAGA;AAAA;AACA;AAAA;AADA;AA5DA;AAiEA;;AAEA;;;;;;;;;;;;;;AC9GA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAFA;AADA;AAMA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;;;;;;;;;;;;;;;;;ACvCA;AACA;AACA;AAIA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AACA;AAEA;AACA;;;;;;;;ACpBA","sources":["webpack://NeedForDrive-Second-Iteration/./src/pages/Order/components/OrderItem/OrderItem.tsx","webpack://NeedForDrive-Second-Iteration/./src/pages/Order/getAxiosConfig.ts","webpack://NeedForDrive-Second-Iteration/./src/pages/Order/hooks.ts","webpack://NeedForDrive-Second-Iteration/webpack/runtime/getFullHash"],"sourcesContent":["import React from 'react';\nimport { Form } from 'react-bootstrap';\nimport { format, toDate } from 'date-fns';\nimport { imageOnErrorHandler } from '../../../../utils/helpers/imageOnErrorHandler';\nimport SettingButton from '../../../../components/SettingButton/SettingButton';\nimport { Order } from '../../../../types/Order';\nimport { Checkbox } from '../../../../types/Filter';\nimport styles from './styles.module.scss';\n\ninterface IOrderItemProps {\n  order: Order,\n  page?: number,\n  filters?: object,\n}\n\nconst OrderItem = ({ order }: IOrderItemProps): React.ReactElement => {\n  const {\n    carId,\n    cityId,\n    pointId,\n    dateFrom,\n    dateTo,\n    color,\n    price,\n    isFullTank,\n    isNeedChildChair,\n    isRightWheel,\n    orderStatusId\n  } = order;\n  const checkboxes: Checkbox[] = [\n    {\n      label: 'Полный бак',\n      value: isFullTank,\n    },\n    {\n      label: 'Детское кресло',\n      value: isNeedChildChair,\n    },\n    {\n      label: 'Правый руль',\n      value: isRightWheel,\n    },\n  ];\n\n  return (\n    <tr>\n      <td className={styles['cols']}>\n        <img\n          className={styles['order-item__img']}\n          src={carId?.thumbnail?.path}\n          alt={carId?.name}\n          onError={imageOnErrorHandler}\n          crossOrigin=\"anonymous\"\n          referrerPolicy=\"origin\"\n        />\n      </td>\n      <td className={styles['cols']}>\n        <div className={styles['order-item__details']}>\n          <span>\n            <strong>\n              {`${carId?.name ? carId?.name.toUpperCase() : 'Машина не указана'} `}\n            </strong>\n            в\n            <strong>\n              {` ${cityId?.name}`}\n            </strong>,\n            {` ${pointId?.address ? pointId?.address : 'улица не указана'}`}\n          </span>\n          <span>\n            {\n              `${dateFrom ? format(toDate(dateFrom), 'dd.MM.yyyy HH:mm') : 'Не указано'}\n              —\n              ${dateTo ? format(toDate(dateTo), 'dd.MM.yyyy HH:mm') : 'Не указано'}`\n            }\n          </span>\n          <span className={styles['order-item__colors']}>\n            Цвет:\n            <strong>\n              {` ${color}`}\n            </strong>\n          </span>\n        </div>\n      </td>\n      <td className={styles['cols']}>\n        <div className={styles['order-item__options']}>\n          {checkboxes.map((checkbox, index) => (\n            <Form.Check\n              type=\"checkbox\"\n              key={checkbox.label}\n              id={`checkbox-${index}`}\n              label={checkbox.label}\n              defaultChecked={checkbox.value}\n              disabled\n            />\n          ))}\n        </div>\n      </td>\n      <td className={styles['cols']}>\n        <span className={styles['order-item__price']}>\n          {`${price} ₽`}\n        </span>\n      </td>\n      <td className={styles['cols']}>\n        {orderStatusId?.name}\n      </td>\n      <td className={styles['cols']}>\n        <SettingButton className={styles['order-item__actions']} />\n      </td>\n    </tr>\n  );\n};\n\nexport default OrderItem;\n","import { RateTypesAxiosConfig } from '../../types/RateTypes';\n\nconst getAxiosConfig = (sorts, page): RateTypesAxiosConfig => {\n  const { cityId, orderStatusId, date, isFullTank, isNeedChildChair, isRightWheel } = sorts;\n  const config: RateTypesAxiosConfig = {\n    params: {\n      page,\n      limit: 5,\n    },\n  };\n  config.params['sort[createdAt]'] = -1;\n\n  if (cityId && cityId !== 'Все города') {\n    config.params['cityId[id]'] = cityId;\n  }\n\n  if (date && date !== 'За все время') {\n    config.params['createdAt[$gt]'] = date;\n  }\n\n  if (orderStatusId && orderStatusId !== 'Все заказы') {\n    config.params['orderStatusId[id]'] = orderStatusId;\n  }\n\n  if (isFullTank) {\n    config.params.isFullTank = true;\n  }\n\n  if (isNeedChildChair) {\n    config.params.isNeedChildChair = true;\n  }\n\n  if (isRightWheel) {\n    config.params.isRightWheel = true;\n  }\n\n  return config;\n}\n\nexport default getAxiosConfig;\n","import { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { fetchOrder } from '../../store/Order/thunks';\nimport { Dispatcher } from '../../types/store';\nimport { OrderResponse, OrderSort, OrderState } from '../../types/Order';\nimport { RateTypesAxiosConfig } from '../../types/RateTypes';\nimport getAxiosConfig from './getAxiosConfig';\n\nexport const useOrder = (sorts: OrderSort, page: number): [OrderResponse, boolean, number | null] => {\n  const dispatch = useDispatch<Dispatcher>();\n  const { orders, error, loading } = useSelector<{\n    order: OrderState;\n  }, OrderState>((state) => state.order);\n\n  useEffect(() => {\n    const config = getAxiosConfig(sorts, page);\n    dispatch(fetchOrder(config));\n  }, [sorts, page]);\n\n  return [orders, loading, error];\n};\n","__webpack_require__.h = () => (\"dc8ded23690e97fa2ef2\")"],"names":[],"sourceRoot":""}