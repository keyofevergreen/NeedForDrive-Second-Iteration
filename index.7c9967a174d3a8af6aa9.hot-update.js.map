{"version":3,"file":"index.7c9967a174d3a8af6aa9.hot-update.js","mappings":";;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAKA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAIA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAFA;AADA;AAMA;AACA;;AAEA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AAEA;AACA;;;;;;;;AC1CA","sources":["webpack://NeedForDrive-Second-Iteration/./src/pages/Cars/hooks.ts","webpack://NeedForDrive-Second-Iteration/webpack/runtime/getFullHash"],"sourcesContent":["import { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { fetchCars } from '../../store/Cars/thunks';\nimport { Dispatcher } from '../../types/store';\nimport { CarResponse, CarsAxiosConfig, CarSort, CarsState } from '../../types/Cars';\nimport { UploadedEntityState } from '../../types/Edit';\n\nexport const useCars = (sorts?: CarSort, page?: number): [CarResponse, boolean, number | null] => {\n  const dispatch = useDispatch<Dispatcher>();\n  const { cars, loading, error } = useSelector<{\n    cars: CarsState;\n  }, CarsState>((state) => state.cars);\n\n  const { uploadedEntity } = useSelector<{\n    uploadedEntity: UploadedEntityState;\n  }, UploadedEntityState>((state) => state.uploadedEntity);\n\n  useEffect(() => {\n    const { categoryId, tank, lowerPrice, higherPrice } = sorts;\n    const config: CarsAxiosConfig = {\n      params: {\n        page,\n        limit: 10,\n      },\n    };\n    config.params['priceMin[$gt]'] = lowerPrice;\n    config.params['priceMax[$lt]'] = higherPrice;\n\n    if (categoryId && categoryId !== 'Все категории') {\n      config.params['categoryId[id]'] = categoryId;\n    }\n    if (tank && tank !== 'Любой запас топлива') {\n      if (tank === '100') {\n        config.params.tank = tank;\n      } else {\n        config.params['tank[$gt]'] = tank;\n      }\n    }\n    dispatch(fetchCars(config));\n  }, [sorts, page, uploadedEntity]);\n\n  return [cars, loading, error];\n};\n","__webpack_require__.h = () => (\"d1e88564261e1eacb0de\")"],"names":[],"sourceRoot":""}