{"version":3,"file":"index.41d60e15be5fa73412ca.hot-update.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAGA;AAEA;AACA;AACA;AACA;;AACA;;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;;;;;;;;ACpCA","sources":["webpack://NeedForDrive-Second-Iteration/./src/utils/helpers/hooks.ts","webpack://NeedForDrive-Second-Iteration/webpack/runtime/getFullHash"],"sourcesContent":["import { useEffect } from 'react';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Dispatcher } from '../../types/store';\nimport { UploadedEntityState } from '../../types/Edit';\nimport { clearUploadedEntityData } from '../../store/Edit/actions';\n\nexport const useConvertFile = () => {\n  return (file: File): Promise<string | ArrayBuffer> => new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    reader.readAsDataURL(file);\n    reader.onload = () => resolve(reader.result);\n    reader.onerror = (error) => reject(error);\n  });\n};\n\nexport const useUploadedEntity = (entityId: string | null, entity: string): boolean => {\n  const location = useLocation();\n  const { pathname } = location;\n  const navigate = useNavigate();\n  const dispatch = useDispatch<Dispatcher>();\n  const { uploadedEntity, uploadedEntityLoading } = useSelector<{\n    uploadedEntity: UploadedEntityState;\n  }, UploadedEntityState>((state) => state.uploadedEntity);\n  useEffect(() => {\n    if (uploadedEntity && !entityId) {\n      console.log(uploadedEntity);\n      navigate(`/edit/${entity}/${uploadedEntity.id}`);\n    }\n  }, [uploadedEntity]);\n\n  useEffect(() => {\n    dispatch(clearUploadedEntityData());\n  }, [pathname]);\n\n  return uploadedEntityLoading;\n};\n","__webpack_require__.h = () => (\"f0c88d920f61c097b5d0\")"],"names":[],"sourceRoot":""}